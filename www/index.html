<!DOCTYPE html>
<html>
    <head>
        <!--
        Customize this policy to fit your own app's needs. For more guidance, see:
            https://github.com/apache/cordova-plugin-whitelist/blob/master/README.md#content-security-policy
        Some notes:
            * gap: is required only on iOS (when using UIWebView) and is needed for JS->native communication
            * https://ssl.gstatic.com is required only on Android and is needed for TalkBack to function properly
            * Disables use of inline scripts in order to mitigate risk of XSS vulnerabilities. To change this:
                * Enable inline JS: add 'unsafe-inline' to default-src
        -->
        <meta charset="utf-8">

        <!-- FIXME -->
        <!-- <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: https://ssl.gstatic.com; style-src 'self' 'unsafe-inline'; media-src *"> -->
        <meta name="format-detection" content="telephone=no">
        <meta name="msapplication-tap-highlight" content="no">
        <meta name="viewport" content="initial-scale=1, width=device-width, viewport-fit=cover">
        <link rel="stylesheet" type="text/css" href="css/leaflet.css">
        <link rel="stylesheet" type="text/css" href="css/index.css">
        <link rel="shortcut icon" type="image/x-icon" href="img/favicon.png">
    <title>Géoportail</title>
    </head>
    <body>
        <div class="app">
            <div class="popup" id="startPopup">
              <div id="message">
                <img id="gpplogo" src="img/logo-geoportail-bleu.svg" />
                <p class="semibold">L'application Géoportail est une version simplifiée du site web.</p>
                <p class="semibold">Pour accéder à toutes les données et fonctionnalités, rendez-vous sur</p>
                <p class="bold">geoportail.gouv.fr</p>
                <p>
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed aliquam erat purus, eu vehicula nunc placerat id. Ut dictum mauris consequat est consequat suscipit. In hac habitasse platea dictumst. Vivamus euismod porttitor arcu venenatis maximus. Donec dapibus ornare vulputate. Donec in feugiat eros. Cras in porttitor lacus. Donec a orci ut neque mattis pulvinar ac et nunc. Aliquam quam nulla, imperdiet et massa fringilla, vulputate accumsan felis. Ut pellentesque luctus venenatis. Curabitur finibus elit vulputate, lobortis diam ac, placerat turpis.

                  Morbi sapien leo, tincidunt ac tellus sit amet, condimentum laoreet neque. Nulla egestas quam tristique, feugiat leo a, fermentum velit. Phasellus consectetur risus velit, non fringilla arcu vestibulum a. Maecenas condimentum risus vitae tellus vestibulum lobortis. Aliquam id nunc neque. Phasellus sodales varius augue, in blandit dolor varius quis. Cras sed pellentesque odio. Mauris risus sem, euismod in nulla et, aliquet volutpat massa. Vestibulum aliquam rutrum leo.

                  Morbi quis iaculis orci, non pharetra massa. Pellentesque interdum lacinia velit, vitae scelerisque libero ornare non. Vivamus dictum maximus dui vel convallis. Suspendisse potenti. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Duis ac mi sodales, elementum lacus eget, iaculis elit. Maecenas dui justo, sagittis a erat non, posuere venenatis nisi. Fusce ultrices fermentum quam, eu posuere lorem mollis eget. Sed pellentesque dapibus dolor at fringilla. Donec arcu nisi, fringilla ultrices nisi ut, tincidunt vulputate metus. Vivamus non risus eget nunc pretium viverra.

                  Nullam in pretium nunc, vitae fringilla quam. Nulla et ligula convallis augue tempor dapibus. Quisque vitae augue sit amet leo lacinia hendrerit sit amet sit amet enim. Suspendisse non tincidunt lacus, et molestie sapien. Fusce dignissim mi sed dictum porta. Aenean libero lectus, gravida vitae orci eget, placerat faucibus orci. Etiam aliquet, ligula ac lobortis pellentesque, magna dolor rhoncus quam, sed elementum enim augue sed est. Ut id tristique est, eu scelerisque nunc. Nulla pharetra nulla quis luctus suscipit. Etiam molestie leo sapien, ultricies tincidunt quam tristique sed. Phasellus sit amet condimentum urna. Duis aliquam tortor dignissim, eleifend leo eget, ornare libero. Quisque pharetra nunc facilisis, varius lectus lacinia, interdum diam.

                  Pellentesque pretium, lacus ut posuere lacinia, lectus lacus volutpat ipsum, quis condimentum erat urna non lectus. Nunc tempor lectus nec ante porttitor hendrerit. Etiam porta, dui nec dictum tempor, arcu diam pretium massa, eu facilisis lacus sapien ut sapien. Sed auctor pulvinar metus, pellentesque commodo ex faucibus in. Donec porta justo posuere quam suscipit, bibendum tincidunt risus sollicitudin. Pellentesque egestas sodales aliquet. Donec malesuada malesuada metus, a congue urna tempor a. Donec consectetur scelerisque quam et fringilla. Donec nulla enim, tincidunt a rhoncus a, rutrum posuere arcu. Donec ullamcorper eros condimentum, venenatis sem id, tincidunt libero. Donec imperdiet feugiat felis ac elementum. Etiam gravida nisi fringilla massa tempus, id finibus nibh porttitor. Quisque scelerisque justo purus, vel placerat orci vehicula non. </p>
                <p><a class="btnGpp" href="https://www.geoportail.gouv.fr/carte">Aller sur le site</a></p>
                <p><a class="btnGpp" id="compris">Compris</a></p>
              </div>
            </div>

            <div id="map"></div>

            <div class="popup d-none" id="legendPopup">
              <div id="legendContainer">
                <img src="img/couches/drone-legend.png" alt="légende restriction drones" class="legendImg">
                <img class="closeButton" src="img/croix.png" alt="fermer" />
              </div>
            </div>

            <div id="mapCenterCoords" class="d-none">
              <img src="img/map-center-blue.png" alt="centre de la carte">
              <div id= "coordsWindow">
                <div id="latlngcoords">
                  <p>Lat  : <span id="centerLat">...</span></p>
                  <p>Lon : <span id="centerLon">...</span></p>
                </div>
                <div id="XYcoords" class="d-none">
                  <p>X : <span id="centerX">...</span></p>
                  <p>Y : <span id="centerY">...</span></p>
                </div>
              </div>
            </div>

            <div id="header">
              <div id="main-buttons">
                <div class="button" id="catalogBtn">
                  <img src="img/cartes_off.png" alt="cartes" />
                  <span id="open-nav-menu-text">CARTES</span>
                </div>
                <div id="search">
                  <img id="searchImage" src="img/search.png" alt="rechercher"/>
                  <input id="lieuRech" name="lieuRech" type="text" placeholder="Rechercher un lieu, une adresse..." autocorrect="off" autocomplete="off" autocapitalize="off"/>
                  <span id="clearSpan" class="d-none"><img id="clearSearch" src="img/effacer.png" alt="effacer"/></span>
                  <div id="resultsRech"></div>
                </div>
                <div class="button" id="geolocateBtn">
                  <img src="img/locate.png" alt="gélolocalisation" />
                </div>
              </div>
            </div>

            <div id="footer">
              <div id="logo">
                <img src="img/logo-geoportail.svg" alt="logo GP" />
                |
                <a id="mentions-legales" target="_blank" href="https://www.geoportail.gouv.fr/mentions-legales" title="Mentions Légales">Mentions Légales</a>
              </div>
            </div>

            <div id="btnCoords" class="btnControl">
              <img src="img/coords.png" alt="coordonnées">
            </div>
            <div id="btnLegend" class="btnControl d-none">
              <img src="img/legend.png" alt="légende">
            </div>
            <!-- TODO display one day... -->
            <div id="btnMeasures" class="btnControl d-none">
              <img src="img/measure.png" alt="mesures">
            </div>

            <div id="catalog">
              <div id="catHeader">
                <img class="backButton" src="img/back.png" alt="retour" />
                <span class="titre">Choisir</span>
                <img class="closeButton" src="img/croix.png" alt="fermer" />
              </div>

              <div id="menuC">
                <div class="layer" id="layerOrtho">
                  <img name="photos" id="photos" class="couche floatL" src="img/couches/photos.jpg" alt="photos" /></a>
                  <div id="lphotos" class="textCouche">Vue aérienne</div>
                </div>
                <div class="layer" id="layerRoutes">
                  <img name="routes" id="routes" class="couche floatR" src="img/couches/routes.jpg" alt="routes" /></a>
                  <div id="lroutes" class="textCouche">Routes</div>
                </div>
                <div class="layer" id="layerCartes">
                  <img name="cartes" id="cartes" class="couche floatL" src="img/couches/cartes.jpg" alt="cartes" /></a>
                  <div id="lcartes" class="textCouche">Cartes</div>
                </div>
                <div class="layer" id="layerPlan">
                  <img name="plan-ign" id="plan-ign" class="couche floatL" src="img/couches/plan-ign.jpg" alt="plan-ign" /></a>
                  <div id="lplan-ign" class="textCouche">Plan IGN</div>
                </div>
                <div class="layer" id="layerParcels">
                  <img name="cadastre" id="cadastre" class="couche floatL" src="img/couches/cadastre.jpg" alt="cadastre" /></a>
                  <div id="lcadastre" class="textCouche">Parcelles cadastrales</div>
                </div>
                <div class="layer" id="layerDrones">
                  <img name="drones" id="drones" class="couche floatR" src="img/couches/restrictions-drones.jpg" alt="restrictions pour drones" /></a>
                  <div id="ldrones" class="textCouche">Restrictions pour drones de loisir</div>
                </div>
                <div class="layer" id="layerEtatMajor">
                  <img name="etat-major" id="etat-major" class="couche floatR" src="img/couches/etat-major.jpg" alt="etat major" /></a>
                  <div id="letat-major" class="textCouche">Carte de l'état-major</div>
                </div>
              </div>
            </div>

        </div>
        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/leaflet.js"></script>
        <script type="text/javascript" src="js/GpServices.js"></script>
        <script type="text/javascript" src="js/proj4.js"></script>
        <script type="text/javascript" src="js/pouchdb.min.js"></script>
        <script type="text/javascript" src="js/leaflet.tilelayer.fallback.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
    </body>

</html>
