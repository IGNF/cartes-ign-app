<!DOCTYPE html>
<html>
    <head>
        <!--
        Customize this policy to fit your own app's needs. For more guidance, see:
            https://github.com/apache/cordova-plugin-whitelist/blob/master/README.md#content-security-policy
        Some notes:
            * gap: is required only on iOS (when using UIWebView) and is needed for JS->native communication
            * https://ssl.gstatic.com is required only on Android and is needed for TalkBack to function properly
            * Disables use of inline scripts in order to mitigate risk of XSS vulnerabilities. To change this:
                * Enable inline JS: add 'unsafe-inline' to default-src
        -->
        <meta charset="utf-8">

        <!-- FIXME -->
        <!-- <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: https://ssl.gstatic.com; style-src 'self' 'unsafe-inline'; media-src *"> -->
        <meta name="format-detection" content="telephone=no">
        <meta name="msapplication-tap-highlight" content="no">
        <meta name="viewport" content="initial-scale=1, width=device-width, viewport-fit=cover">
        <link rel="stylesheet" type="text/css" href="css/leaflet.css">
        <link rel="stylesheet" type="text/css" href="css/index.css">
        <link rel="shortcut icon" type="image/x-icon" href="img/favicon.png">
    <title>Géoportail</title>
    </head>
    <body>
        <div class="app">
            <div id="blueBg" class="d-none"></div>
            <div class="popup d-none" id="startPopup">
              <div id="message">
                <img class="closeButton" src="img/croix.png" alt="fermer" />
              </div>
            </div>

            <div class="popup d-none" id="menu">
              <div id="menuItems">
                <div class="bigMenuItem" id="menuItemLegend"><span class="menuItemIcon" id="menuItemLegendIcon"></span><span>Légende de la carte</span></div>
                <div class="bigMenuItem" id="menuItemInfo"><span class="menuItemIcon" id="menuItemInfoIcon"></span><span>Informations</span></div>
                <hr>
                <div class="bigMenuItem" id="menuItemParams"><span class="menuItemIcon" id="menuItemParamsIcon"></span><span>Paramètres</span></div>
                <hr>
                <div class="smallMenuItem" id="menuItemLegal">Mentions légales</div>
                <div class="smallMenuItem" id="menuItemCookies">Cookies et statistiques</div>
              </div>
            </div>

            <div id="map"></div>

            <div class="popup d-none" id="legendPopup">
              <div id="legendContainer">
                <img src="img/couches/drone-legend.png" alt="légende restriction drones" class="legendImg">
                <img class="closeButton" src="img/croix.png" alt="fermer" />
              </div>
            </div>

            <div id="mapCenterCoords" class="d-none">
              <img src="img/map-center-blue.png" alt="centre de la carte">
              <div id= "coordsWindow">
                <div id="latlngcoords">
                  <p>Lat : <span id="centerLat">...</span></p>
                  <p>Lon : <span id="centerLon">...</span></p>
                </div>
                <div id="XYcoords" class="d-none">
                  <p>X : <span id="centerX">...</span></p>
                  <p>Y : <span id="centerY">...</span></p>
                </div>
              </div>
            </div>

            <div id="header">
              <div id="search">
                <span id="searchImage" alt="rechercher"></span>
                <input id="lieuRech" name="lieuRech" type="text" placeholder="Rechercher un lieu, une adresse..." autocorrect="off" autocomplete="off" autocapitalize="off"/>
                <div id="resultsRech"></div>
              </div>
              <div class="button" id="menuBtn">
              </div>
              <div class="button, d-none" id="closeSearch">
              </div>
            </div>
            <div class="button" id="catalogBtn">
            </div>

            <div id="footer">
              <div class="button" id="geolocateBtn">
              </div>
            </div>

            <div id="catalog" class="d-none">

              <div id="menuC">
                <div class="layer" id="layerOrtho">
                  <img name="photos" id="photos" class="couche floatL" src="img/couches/photos.jpg" alt="photos" /></a>
                  <div id="lphotos" class="textCouche">Vue aérienne</div>
                </div>
                <div class="layer" id="layerRoutes">
                  <img name="routes" id="routes" class="couche floatR" src="img/couches/routes.jpg" alt="routes" /></a>
                  <div id="lroutes" class="textCouche">Routes</div>
                </div>
                <div class="layer" id="layerCartes">
                  <img name="cartes" id="cartes" class="couche floatL" src="img/couches/cartes.jpg" alt="cartes" /></a>
                  <div id="lcartes" class="textCouche">Cartes</div>
                </div>
                <div class="layer" id="layerPlan">
                  <img name="plan-ign" id="plan-ign" class="couche floatL" src="img/couches/plan-ign.jpg" alt="plan-ign" /></a>
                  <div id="lplan-ign" class="textCouche">Plan IGN</div>
                </div>
                <div class="layer" id="layerParcels">
                  <img name="cadastre" id="cadastre" class="couche floatL" src="img/couches/cadastre.jpg" alt="cadastre" /></a>
                  <div id="lcadastre" class="textCouche">Parcelles cadastrales</div>
                </div>
                <div class="layer" id="layerDrones">
                  <img name="drones" id="drones" class="couche floatR" src="img/couches/restrictions-drones.jpg" alt="restrictions pour drones" /></a>
                  <div id="ldrones" class="textCouche">Restrictions pour drones de loisir</div>
                </div>
              </div>
            </div>

        </div>
        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/leaflet.js"></script>
        <script type="text/javascript" src="js/GpServices.js"></script>
        <script type="text/javascript" src="js/proj4.js"></script>
        <script type="text/javascript" src="js/pouchdb.min.js"></script>
        <script type="text/javascript" src="js/leaflet.tilelayer.fallback.js"></script>
        <script type="text/javascript" src="js/purify.min.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
    </body>

</html>
